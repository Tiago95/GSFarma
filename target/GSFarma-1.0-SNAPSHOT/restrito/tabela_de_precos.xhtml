<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
<head>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,600italic,700,700italic,300italic' rel='stylesheet' type='text/css' />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>GSFarma Representações - Tabela de Preços</title>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="../resources/less/animate.less-master/animate.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="../resources/js/woothemes-FlexSlider-06b12f8/flexslider.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../resources/js/prettyPhoto_3.1.5/prettyPhoto.css" type="text/css" media="screen" />
<link href="../resources/style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="../resources/fonts/font-awesome/css/font-awesome.min.css" media="screen" />
<!--[if IE 7]>
    <link rel="stylesheet" href="fonts/font-awsome/css/font-awesome-ie7.min.css">
    <![endif]-->
<script type="text/javascript" src="js/modernizr.custom.48287.js"></script>
<!-- Fav and touch icons -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../resources/apple-touch-icon-114x114-precomposed.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../resources/apple-touch-icon-72x72-precomposed.png" />
<link rel="apple-touch-icon-precomposed" href="../resources/apple-touch-icon-57x57-precomposed.png" />
<link rel="shortcut icon" href="../resources/favicon.png" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<ui:composition template="/templates/interna.xhtml">

<ui:define name="corpo">

<body>

<div id="main">
     <div class="container">
          <section id="register">
               <div class="hgroup">
               
                    <h1>Tabela de Preços - <h:outputText id="nome_usuario3" value="#{usuarioBean.nome_comprador}" /> </h1>
                    <ul class="breadcrumb pull-right">
                         <li><a href="index.html">Home</a> <span class="divider">/</span></li>
                         <li class="active">Tabela de Preços - <h:outputText id="nome_usuario2" value="#{usuarioBean.nome_comprador}" /></li>
                    </ul>
                    </div>
                    
                    <h:form id="tabela">
                    
                    <h:inputHidden value="#{produtoBean.produto.codigo}" />
                    <p:growl id="growl" showDetail="true" sticky="false" life="10000"/>
                    
                    <h:dataTable id="datatable" var="produto" value="#{produtoBean.lista}" styleClass="table table-bordered table-striped">
                    
        <f:facet name="header">             
                 <p:commandButton style="left: 450px;" styleClass="btn btn-primary" value="Finalizar Pedido" />  
        </f:facet>  
                    
                    
                    
         <p:column>  
            <f:facet name="header">  
                <h:outputText value="Produto" />  
            </f:facet>  
            <h:outputText value="#{produto.descricao}"/>  
        </p:column>  
        
     
        
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Referencia" />  
            </f:facet>  
            <h:outputText value="#{produto.referencia}" />  
        </p:column>
        
       <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço de Fábrica" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_fabrica}" >
            <f:convertNumber type="currency" />
            </h:outputText>  
        </p:column> 
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço do Consumidor" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_consumidor}" >
              <f:convertNumber type="currency" />
              </h:outputText>
        </p:column> 
        
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço de Venda" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_venda}" id="preco_venda">
            <f:convertNumber type="currency" />  
            </h:outputText>
        </p:column> 
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="QTD" />  
            </f:facet>  
            <p:inputText id="qtd" style="width: 30px;" placeholder="0" maxlength="4" value="#{produto.quantidade}" />       
        </p:column>
        
     <p:column>
     <p:commandButton styleClass="btn btn-success" value="Adicionar ao Carrinho" action="#{carrinhoBean.adicionarItem}" update=":tabela:growl" >
     <f:setPropertyActionListener target="#{carrinhoBean.produto}" value="#{produto}" />
     </p:commandButton>
     </p:column>
     
</h:dataTable>           
         
                 
</h:form>
</section>
</div>
</div>
</body>
</ui:define>
</ui:composition>
</html>