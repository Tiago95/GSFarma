<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>

<ui:composition template="/templates/interna.xhtml">

<ui:define name="corpo">

<body>

<div id="main">
     <div class="container">
          <section id="register">
               <div class="hgroup">
               
                    <h1>Tabela de Preços - <h:outputText id="nome_usuario3" value="#{usuarioBean.nome_comprador}" /> </h1>
                    <ul class="breadcrumb pull-right">
                         <li><a href="index.html">Home</a> <span class="divider">/</span></li>
                         <li class="active">Tabela de Preços - <h:outputText id="nome_usuario2" value="#{usuarioBean.nome_comprador}" /></li>
                    </ul>
                    </div>
                    
                    <h:form id="tabela">
                    
                    <h:inputHidden value="#{produtoBean.produto.codigo}" />
                    <p:growl id="growl" showDetail="true" sticky="false" life="10000"/>
                    
                    <h:dataTable id="datatable" var="produto" value="#{produtoBean.lista}" styleClass="table table-bordered table-striped">
                    
        <f:facet name="header">             
                 <p:commandButton style="left: 450px;" styleClass="btn btn-primary" value="Finalizar Pedido" />  
        </f:facet>  
                    
                    
                    
         <p:column>  
            <f:facet name="header">  
                <h:outputText value="Produto" />  
            </f:facet>  
            <h:outputText value="#{produto.descricao}"/>  
        </p:column>  
        
     
        
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Referencia" />  
            </f:facet>  
            <h:outputText value="#{produto.referencia}" />  
        </p:column>
        
       <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço de Fábrica" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_fabrica}" >
            <f:convertNumber type="currency" />
            </h:outputText>  
        </p:column> 
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço do Consumidor" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_consumidor}" >
              <f:convertNumber type="currency" />
              </h:outputText>
        </p:column> 
        
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Preço de Venda" />  
            </f:facet>  
            <h:outputText value="#{produto.preco_venda}" id="preco_venda">
            <f:convertNumber type="currency" />  
            </h:outputText>
        </p:column> 
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="QTD" />  
            </f:facet>  
            <p:inputText id="qtd" style="width: 30px;" placeholder="0" maxlength="4" value="#{produto.quantidade}" />       
        </p:column>
        
     <p:column>
     <p:commandButton styleClass="btn btn-success" value="Adicionar ao Carrinho" action="#{carrinhoBean.adicionarItem}" update=":tabela:growl" >
     <f:setPropertyActionListener target="#{carrinhoBean.produto}" value="#{produto}" />
     </p:commandButton>
     </p:column>
     
</h:dataTable>           
         
                 
</h:form>
</section>
</div>
</div>
</body>
</ui:define>
</ui:composition>
</html>